(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{166:function(e,t,a){e.exports=a.p+"static/media/nytlogo.47b2d9e4.png"},172:function(e,t,a){e.exports=a(379)},200:function(e,t,a){},372:function(e,t,a){},374:function(e,t,a){},379:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(30),l=a(12),i=a(46),o=a(47),s=a(50),u=a(48),d=a(51),m=(a(180),a(77)),p=a(382),f=a(381),b=a(383),h=(a(107),a(76)),v=(a(380),a(53)),E=(a(200),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).renderKeywords=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e?e.map(function(e,t){return r.a.createElement("span",{className:"news-badge",key:t},e.value)}):null},a.renderItem=function(e){var t=a.props.loading,n=e.headline,c=e.image,l=e.keywords,i=e.snippet,o=e.id,s=e.source,u="/article/".concat(o),d=null;return!t&&c&&(d=r.a.createElement(f.a,{to:u},r.a.createElement("img",{className:"news-image",src:c,alt:n}))),r.a.createElement(v.a.Item,{key:o,extra:d},r.a.createElement(v.a.Item.Meta,{title:r.a.createElement(f.a,{to:u},n),description:s}),i,r.a.createElement("div",{className:"news-keywords"},a.renderKeywords(l)))},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.dataSource;return e.loading?r.a.createElement(v.a,{size:"large",itemLayout:"vertical",dataSource:Array(10),renderItem:function(e){return r.a.createElement(v.a.Item,null,r.a.createElement(h.a,{key:e,active:!0,loading:!0,rows:5}))}}):r.a.createElement(v.a,{className:"news-list",pagination:{pageSize:5},size:"large",itemLayout:"vertical",dataSource:t,renderItem:this.renderItem})}}]),t}(n.Component));E.defaultProps={loading:!1,dataSource:[]};var g=E,y=a(74),w=a(41),j=a(23),O=a(165),k="FETCH_NEWS_DATA",N="FETCH_NEWS_DATA_SUCCESS",I="FETCH_NEWS_DATA_FAILURE";function x(e){return{type:I,error:e}}var _={allIds:[],byId:{}};var S=Object(j.c)({byId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.byId,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case N:return n.docs.reduce(function(e,t){return Object(w.a)({},e,Object(y.a)({},t._id,function(e){var t=null;return e.multimedia.length&&e.multimedia[0].url&&(t="https://www.nytimes.com/".concat(e.multimedia[0].url)),Object(w.a)({},e,{id:e._id,headline:e.headline.main,image:t,formattedDate:e.pub_date?Object(O.format)(e.pub_date,"MM/DD/YYYY"):null})}(t)))},{});default:return e}},allIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.allIds,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case N:return e.concat(n.docs.map(function(e){return e._id}));default:return e}}}),D=Object(c.b)(function(e){return{loading:e.app.loading,dataSource:function(e){var t=e.allIds,a=e.byId;return t.map(function(e){return a[e]})}(e.newsList)}})(g),T=(a(369),a(15)),A=(a(372),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.scrollToTop()}},{key:"scrollToTop",value:function(){window&&window.scroll&&window.scroll(0,0)}},{key:"render",value:function(){var e=this.props.item;if(!e)return r.a.createElement(h.a,{active:!0,loading:!0,paragraph:{rows:10}});var t=e.image,a=e.headline,n=e.snippet,c=e.formattedDate,l=e.source,i=e.web_url;return r.a.createElement("article",{className:"article"},r.a.createElement("header",{className:"article-header"},r.a.createElement(f.a,{className:"article-back-button",to:"/"},r.a.createElement(T.a,{type:"arrow-left",theme:"outlined"})," Back"),r.a.createElement("h2",{className:"article-headline"},a),l&&r.a.createElement("h3",{className:"article-source"},"Source: ",l),c&&r.a.createElement("small",{className:"article-pub-date"},c)),r.a.createElement("div",{className:"article-carousel"},t&&r.a.createElement("img",{src:t,alt:a,className:"article-image"})),r.a.createElement("p",{className:"article-content"},n),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:i,title:a},"Read more..."))}}]),t}(n.Component));A.defaultProps={id:null,item:null};var C=A,L=Object(c.b)(function(e,t){return{item:e.newsList.byId[t.id]}})(C),M=a(166),Y=a.n(M),F=(a(374),m.a.Header),H=m.a.Content,z=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.fetchData;e&&e()}},{key:"render",value:function(){return r.a.createElement(p.a,{basename:"/nytimes-react-redux"},r.a.createElement(m.a,null,r.a.createElement(F,{className:"app-header"},r.a.createElement("h1",{className:"app-headline"},r.a.createElement(f.a,{to:"/"},r.a.createElement("img",{src:Y.a,alt:"The New York Times",className:"app-logo"})))),r.a.createElement(H,{className:"app-content"},r.a.createElement(b.a,{exact:!0,path:"/",component:D}),r.a.createElement(b.a,{exact:!0,path:"/article/:id",render:function(e){var t=e.match;return r.a.createElement(L,{id:t.params.id})}}))))}}]),t}(n.Component);z.defaultProps={fetchData:null};var K=z,P={fetchData:function(){return{type:k}}},W=Object(c.b)(function(e){return{loading:e.app.loading}},P)(K),B=a(169),J={loading:!0,error:null},R=Object(j.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=(t.payload,t.error);switch(a){case k:return Object(w.a)({},e,{loading:!0});case N:return Object(w.a)({},e,{loading:!1});case I:return Object(w.a)({},e,{error:n,loading:!1});default:return e}},newsList:S}),U=a(32),q=a.n(U),G=a(19);function Q(e){return fetch(e).then(function(e){return e.json()})}var V=q.a.mark($),X=q.a.mark(ee),Z="https://api.nytimes.com/svc/search/v2/articlesearch.json?api-key=5763846de30d489aa867f0711e2b031c&q=singapore&page=0";function $(){var e,t,a;return q.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(G.b)(Q,Z);case 3:if(e=n.sent,t=e.status,a=e.response,"OK"!==t){n.next=10;break}return n.next=9,Object(G.d)({type:N,payload:a});case 9:return n.abrupt("return");case 10:return n.next=12,Object(G.d)(x(a));case 12:n.next=18;break;case 14:return n.prev=14,n.t0=n.catch(0),n.next=18,Object(G.d)(x(n.t0));case 18:case"end":return n.stop()}},V,this,[[0,14]])}function ee(){return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.e)(k,$);case 2:case"end":return e.stop()}},X,this)}var te=q.a.mark(ae);function ae(){return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.a)([Object(G.c)(ee)]);case 2:case"end":return e.stop()}},te,this)}var ne=function(){var e=Object(B.a)(),t=j.d;var a=Object(j.e)(R,t(Object(j.a)(e)));return e.run(ae),a}();Object(l.render)(r.a.createElement(c.a,{store:ne},r.a.createElement(W,null)),document.getElementById("root"))}},[[172,2,1]]]);
//# sourceMappingURL=main.9cf4dde6.chunk.js.map